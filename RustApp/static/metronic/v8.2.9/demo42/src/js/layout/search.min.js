"use strict";var KTLayoutSearch=function(){var element;var formElement;var mainElement;var resultsElement;var wrapperElement;var emptyElement;var preferencesElement;var preferencesShowElement;var preferencesDismissElement;var advancedOptionsFormElement;var advancedOptionsFormShowElement;var advancedOptionsFormCancelElement;var advancedOptionsFormSearchElement;var searchObject;var processs=function(search){var timeout=setTimeout(function(){var number=KTUtil.getRandomInt(1,3);mainElement.classList.add("d-none");if(number===3){resultsElement.classList.add("d-none");emptyElement.classList.remove("d-none")}else{resultsElement.classList.remove("d-none");emptyElement.classList.add("d-none")}search.complete()},1500)};var processsAjax=function(search){mainElement.classList.add("d-none");axios.post("/search.php",{query:searchObject.getQuery()}).then(function(response){resultsElement.innerHTML=response;resultsElement.classList.remove("d-none");emptyElement.classList.add("d-none");search.complete()}).catch(function(error){resultsElement.classList.add("d-none");emptyElement.classList.remove("d-none");search.complete()})};var clear=function(search){mainElement.classList.remove("d-none");resultsElement.classList.add("d-none");emptyElement.classList.add("d-none")};var handlePreferences=function(){if(preferencesShowElement){preferencesShowElement.addEventListener("click",function(){wrapperElement.classList.add("d-none");preferencesElement.classList.remove("d-none")})}if(preferencesDismissElement){preferencesDismissElement.addEventListener("click",function(){wrapperElement.classList.remove("d-none");preferencesElement.classList.add("d-none")})}};var handleAdvancedOptionsForm=function(){if(advancedOptionsFormShowElement){advancedOptionsFormShowElement.addEventListener("click",function(){wrapperElement.classList.add("d-none");advancedOptionsFormElement.classList.remove("d-none")})}if(advancedOptionsFormCancelElement){advancedOptionsFormCancelElement.addEventListener("click",function(){wrapperElement.classList.remove("d-none");advancedOptionsFormElement.classList.add("d-none")})}};return{init:function(){element=document.querySelector("#kt_header_search");if(!element){return}wrapperElement=element.querySelector('[data-kt-search-element="wrapper"]');formElement=element.querySelector('[data-kt-search-element="form"]');mainElement=element.querySelector('[data-kt-search-element="main"]');resultsElement=element.querySelector('[data-kt-search-element="results"]');emptyElement=element.querySelector('[data-kt-search-element="empty"]');preferencesElement=element.querySelector('[data-kt-search-element="preferences"]');preferencesShowElement=element.querySelector('[data-kt-search-element="preferences-show"]');preferencesDismissElement=element.querySelector('[data-kt-search-element="preferences-dismiss"]');advancedOptionsFormElement=element.querySelector('[data-kt-search-element="advanced-options-form"]');advancedOptionsFormShowElement=element.querySelector('[data-kt-search-element="advanced-options-form-show"]');advancedOptionsFormCancelElement=element.querySelector('[data-kt-search-element="advanced-options-form-cancel"]');advancedOptionsFormSearchElement=element.querySelector('[data-kt-search-element="advanced-options-form-search"]');searchObject=new KTSearch(element);searchObject.on("kt.search.process",processs);searchObject.on("kt.search.clear",clear);if(preferencesElement){handlePreferences()}if(advancedOptionsFormElement){handleAdvancedOptionsForm()}}}}();KTUtil.onDOMContentLoaded(function(){KTLayoutSearch.init()});